basePath: /
definitions:
  ClassBasic:
    properties:
      class_description:
        type: string
      class_name:
        type: string
      id:
        type: integer
    type: object
  ClassBasicNoRelation:
    properties:
      class_description:
        type: string
      class_name:
        type: string
      id:
        type: integer
    type: object
  ClassFields:
    properties:
      classDescription:
        type: string
      className:
        type: string
      createdAt:
        type: string
      id:
        type: integer
      lectures:
        items:
          $ref: '#/definitions/entities.Lecture'
        type: array
      updatedAt:
        type: string
    type: object
  CreateUser:
    properties:
      email:
        type: string
      first_name:
        type: string
      last_name:
        type: string
      password:
        type: string
      user_name:
        type: string
    type: object
  CreateUserResult:
    properties:
      result:
        $ref: '#/definitions/UserBasic'
    type: object
  ExecutionInput:
    properties:
      args:
        items:
          type: string
        type: array
      stdin:
        type: string
    type: object
  ExecutionRequest:
    properties:
      content:
        type: string
      inputs:
        items:
          $ref: '#/definitions/ExecutionInput'
        type: array
      language:
        type: string
      name:
        type: string
      version:
        type: string
    type: object
  ExecutionResult:
    properties:
      code:
        type: integer
      output:
        type: string
      signal:
        type: string
      stderr:
        type: string
      stdout:
        type: string
    type: object
  ExecutionResults:
    properties:
      errors:
        additionalProperties:
          $ref: '#/definitions/PistonError'
        type: object
      run:
        items:
          $ref: '#/definitions/ExecutionResult'
        type: array
    type: object
  PistonError:
    properties:
      message:
        type: string
      status_code:
        type: integer
    type: object
  PistonRuntime:
    properties:
      aliases:
        items:
          type: string
        type: array
      language:
        type: string
      node:
        type: string
      version:
        type: string
    type: object
  PistonRuntimeList:
    properties:
      runtimes:
        items:
          $ref: '#/definitions/PistonRuntime'
        type: array
    type: object
  UserAdvanced:
    properties:
      classes:
        items:
          $ref: '#/definitions/ClassBasicNoRelation'
        type: array
      created_at:
        type: string
      email:
        type: string
      first_name:
        type: string
      id:
        type: integer
      last_name:
        type: string
      updated_at:
        type: string
      user_name:
        type: string
    type: object
  UserBasic:
    properties:
      email:
        type: string
      first_name:
        type: string
      id:
        type: integer
      last_name:
        type: string
      user_name:
        type: string
    type: object
  UsersList:
    properties:
      count:
        type: integer
      users:
        items:
          $ref: '#/definitions/UserBasic'
        type: array
    type: object
  api.CreateClassHandler.request:
    properties:
      class_description:
        type: string
      class_name:
        type: string
      lecturers:
        items:
          type: string
        type: array
    type: object
  api.CreateClassHandler.response:
    properties:
      result:
        $ref: '#/definitions/ClassBasic'
    type: object
  api.CreateLectureHandler.request:
    properties:
      class_id:
        type: integer
      lecture_content:
        type: string
      lecture_description:
        type: string
      lecture_name:
        type: string
    type: object
  api.CreateLectureHandler.response:
    properties:
      result:
        $ref: '#/definitions/entities.APILectureAdvanced'
    type: object
  api.CreateProblemHandler.request:
    properties:
      class_id:
        type: integer
      content:
        type: string
      problem_name:
        type: string
      testcases:
        items:
          $ref: '#/definitions/entities.TestCase'
        type: array
    type: object
  api.CreateProblemHandler.response:
    properties:
      result:
        $ref: '#/definitions/entities.Problem'
    type: object
  api.DeleteClassHandler.response:
    properties:
      status:
        type: string
    type: object
  api.DeleteProblemHandler.response:
    properties:
      status:
        type: string
    type: object
  api.ErrorResponse:
    properties:
      message:
        type: string
    type: object
  api.GetClassLecturesHandler.response:
    properties:
      lectures:
        items:
          $ref: '#/definitions/entities.APILectureBasic'
        type: array
    type: object
  api.GetClassProblemsHandler.response:
    properties:
      problems:
        items:
          $ref: '#/definitions/entities.APIProblemBasic'
        type: array
    type: object
  api.GetClassesHandler.response:
    properties:
      classes:
        items:
          $ref: '#/definitions/ClassBasic'
        type: array
      count:
        type: integer
    type: object
  api.GetLectureHandler.response:
    properties:
      result:
        $ref: '#/definitions/entities.APILectureAdvanced'
    type: object
  api.GetProblemsHandler.response:
    properties:
      classes:
        items:
          $ref: '#/definitions/entities.APIProblemBasic'
        type: array
      count:
        type: integer
    type: object
  api.GetUserClassesHandler.response:
    properties:
      classes:
        items:
          $ref: '#/definitions/ClassBasic'
        type: array
    type: object
  auth.BearerToken:
    properties:
      token:
        type: string
    type: object
  auth.LoginHandler.request:
    properties:
      password:
        type: string
      user_name:
        type: string
    type: object
  entities.APILectureAdvanced:
    properties:
      class_id:
        type: integer
      createdAt:
        type: string
      id:
        type: integer
      lecture_content:
        type: string
      lecture_description:
        type: string
      lecture_name:
        type: string
      updatedAt:
        type: string
    type: object
  entities.APILectureBasic:
    properties:
      class_id:
        type: integer
      id:
        type: integer
      lecture_description:
        type: string
      lecture_name:
        type: string
    type: object
  entities.APIProblemBasic:
    properties:
      created_at:
        type: string
      id:
        type: integer
      problem_name:
        type: string
      updated_at:
        type: string
    type: object
  entities.Lecture:
    properties:
      class:
        $ref: '#/definitions/ClassFields'
      classID:
        type: integer
      createdAt:
        type: string
      deletedAt:
        type: string
      id:
        type: integer
      lectureContent:
        $ref: '#/definitions/entities.LectureContent'
      lectureDescription:
        type: string
      lectureName:
        type: string
      updatedAt:
        type: string
    type: object
  entities.LectureContent:
    properties:
      content:
        type: string
      lectureID:
        type: integer
    type: object
  entities.Problem:
    properties:
      class:
        $ref: '#/definitions/ClassFields'
      classID:
        type: integer
      createdAt:
        type: string
      deletedAt:
        type: string
      id:
        type: integer
      problemContent:
        $ref: '#/definitions/entities.ProblemContent'
      problemName:
        type: string
      updatedAt:
        type: string
    type: object
  entities.ProblemContent:
    properties:
      statement:
        type: string
      testcases:
        items:
          $ref: '#/definitions/entities.TestCase'
        type: array
    type: object
  entities.TestCase:
    properties:
      input:
        type: string
      output:
        type: string
    type: object
  main.healthCheck.response:
    properties:
      message:
        type: string
    type: object
  swaggercompat.Response:
    properties:
      result: {}
    type: object
host: localhost:8080
info:
  contact: {}
  description: API for Execode code learning environment
  title: Execode API
  version: "1.0"
paths:
  /:
    get:
      consumes:
      - '*/*'
      description: get the status of server.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/main.healthCheck.response'
      summary: Show the status of server.
      tags:
      - Health
  /classes:
    get:
      description: Gets all classes, set page size and page number through query parameters.
      parameters:
      - default: 1
        description: Page size to return
        in: query
        name: offset
        type: integer
      - default: 10
        description: Page to return
        in: query
        name: limit
        type: integer
      responses:
        "200":
          description: Describes the result of the execution
          schema:
            $ref: '#/definitions/api.GetClassesHandler.response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.ErrorResponse'
      summary: Gets all classes (paged)
      tags:
      - Classes
    post:
      consumes:
      - application/json
      description: Creates the class defined by the request, the classes will be lectured
        by the specified lecturers
      parameters:
      - description: Description of the class to created
        in: body
        name: ClassDescription
        required: true
        schema:
          $ref: '#/definitions/api.CreateClassHandler.request'
      produces:
      - application/json
      responses:
        "200":
          description: Describes the created class
          schema:
            $ref: '#/definitions/api.CreateClassHandler.response'
      summary: Creates the class defined by the request
      tags:
      - Classes
  /classes/{ClassID}/lectures:
    get:
      parameters:
      - description: Class ID to query
        in: path
        name: ClassID
        required: true
        type: integer
      responses:
        "200":
          description: Describes lecture created
          schema:
            $ref: '#/definitions/api.GetClassLecturesHandler.response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.ErrorResponse'
      summary: Get lectures belonging to class
      tags:
      - Lectures
  /classes/{ClassID}/problems:
    get:
      parameters:
      - description: Class ID to query
        in: path
        name: ClassID
        required: true
        type: integer
      responses:
        "200":
          description: Describes lecture created
          schema:
            $ref: '#/definitions/api.GetClassProblemsHandler.response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.ErrorResponse'
      summary: Get lectures belonging to class
      tags:
      - Lectures
  /classes/{classID}:
    delete:
      parameters:
      - description: ID of class to delete
        in: path
        name: ClassID
        required: true
        type: integer
      responses:
        "200":
          description: Describes the result of the execution
          schema:
            $ref: '#/definitions/api.DeleteClassHandler.response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.ErrorResponse'
      summary: Delete class specified by class_id
      tags:
      - Classes
    get:
      description: Gets all classes, set page size and page number through query parameters.
      parameters:
      - description: ID of class to return
        in: path
        name: classID
        type: integer
      responses:
        "200":
          description: Describes the result of the execution
          schema:
            $ref: '#/definitions/api.GetClassesHandler.response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.ErrorResponse'
      summary: Gets all classes (paged)
      tags:
      - Classes
  /execute:
    post:
      consumes:
      - application/json
      - text/xml
      description: |-
        Execute the code in the language specified in the POST request body.
        If it is a submission task then save user submissions as well.
      parameters:
      - description: Description of the job to be run
        in: body
        name: JobDescription
        required: true
        schema:
          $ref: '#/definitions/ExecutionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Describes the result of the execution
          schema:
            $ref: '#/definitions/ExecutionResults'
      summary: Execute code and handle user submissions.
      tags:
      - Execute
  /execute/runtimes:
    get:
      consumes:
      - '*/*'
      description: Get all available language runtimes provided by the connected piston
        instance
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/PistonRuntimeList'
      summary: List installed Piston runtimes.
      tags:
      - Execute
  /lectures:
    post:
      parameters:
      - description: Describes lecture to be created
        in: body
        name: LectureDescription
        required: true
        schema:
          $ref: '#/definitions/api.CreateLectureHandler.request'
      responses:
        "200":
          description: Describes lecture created
          schema:
            $ref: '#/definitions/api.CreateLectureHandler.response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.ErrorResponse'
      summary: Create lecture for class specified by class_id
      tags:
      - Lectures
  /lectures/{LectureID}:
    delete:
      parameters:
      - description: LectureID to get
        in: path
        name: LectureID
        required: true
        type: integer
      responses:
        "200":
          description: Describes lecture created
          schema:
            $ref: '#/definitions/api.GetLectureHandler.response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.ErrorResponse'
      summary: Get Lecture specified by lecture_id
      tags:
      - Lectures
    get:
      parameters:
      - description: LectureID to get
        in: path
        name: LectureID
        required: true
        type: integer
      responses:
        "200":
          description: Describes lecture created
          schema:
            $ref: '#/definitions/api.GetLectureHandler.response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.ErrorResponse'
      summary: Get Lecture specified by lecture_id
      tags:
      - Lectures
  /login:
    post:
      consumes:
      - application/json
      description: Authenticates with basic authentication return a JWT token
      parameters:
      - description: Description of the user to created
        in: body
        name: loginCredentials
        required: true
        schema:
          $ref: '#/definitions/auth.LoginHandler.request'
      produces:
      - application/json
      responses:
        "200":
          description: Describes the created user
          schema:
            $ref: '#/definitions/auth.BearerToken'
      summary: Login endpoint
      tags:
      - Authentication
  /problems:
    get:
      description: Gets all classes, set page size and page number through query parameters.
      parameters:
      - default: 1
        description: Page size to return
        in: query
        name: offset
        type: integer
      - default: 10
        description: Page to return
        in: query
        name: limit
        type: integer
      responses:
        "200":
          description: Describes the result of the execution
          schema:
            $ref: '#/definitions/api.GetProblemsHandler.response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.ErrorResponse'
      summary: Gets all classes (paged)
      tags:
      - Problems
    post:
      parameters:
      - description: Describes lecture to be created
        in: body
        name: ProblemDescription
        required: true
        schema:
          $ref: '#/definitions/api.CreateProblemHandler.request'
      responses:
        "200":
          description: Describes lecture created
          schema:
            $ref: '#/definitions/api.CreateProblemHandler.response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.ErrorResponse'
      summary: Create lecture for class specified by class_id
      tags:
      - Problems
  /problems/{ProblemID}:
    delete:
      parameters:
      - description: ProblemID to delete
        in: path
        name: ProblemID
        required: true
        type: integer
      responses:
        "200":
          description: Describes lecture created
          schema:
            $ref: '#/definitions/api.DeleteProblemHandler.response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.ErrorResponse'
      summary: Get Lecture specified by problem_id
      tags:
      - Problems
    get:
      parameters:
      - description: LectureID to get
        in: path
        name: ProblemID
        required: true
        type: integer
      responses:
        "200":
          description: Describes lecture created
          schema:
            $ref: '#/definitions/api.GetLectureHandler.response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.ErrorResponse'
      summary: Get Lecture specified by lecture_id
      tags:
      - Problems
  /refresh:
    get:
      consumes:
      - application/json
      description: Provides a new access token given that there is a valid refresh-token
        cookie
      produces:
      - application/json
      responses:
        "200":
          description: Describes the created user
          schema:
            $ref: '#/definitions/auth.BearerToken'
      summary: Refresh endpoint
      tags:
      - Authentication
  /users:
    get:
      description: Gets all users, set page size and page number through query parameters.
      parameters:
      - default: 1
        description: Page size to return
        in: query
        name: offset
        type: integer
      - default: 10
        description: Page to return
        in: query
        name: limit
        type: integer
      responses:
        "200":
          description: Describes the result of the execution
          schema:
            $ref: '#/definitions/UsersList'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.ErrorResponse'
      summary: Gets all users (paged)
      tags:
      - Users
    post:
      consumes:
      - application/json
      description: Creates the user defined by the request
      parameters:
      - description: Authorization
        in: header
        name: Authorization
        required: true
        type: string
      - description: Description of the user to created
        in: body
        name: UserDescription
        required: true
        schema:
          $ref: '#/definitions/CreateUser'
      produces:
      - application/json
      responses:
        "200":
          description: Describes the created user
          schema:
            $ref: '#/definitions/CreateUserResult'
      security:
      - ApiKeyAuth: []
      summary: Creates the user defined by the request
      tags:
      - Users
  /users/{userID}:
    get:
      description: Queries only one user resulting from the specified username
      parameters:
      - description: Username to query
        in: path
        name: userID
        type: integer
      responses:
        "200":
          description: Describes the user entity
          schema:
            allOf:
            - $ref: '#/definitions/swaggercompat.Response'
            - properties:
                result:
                  $ref: '#/definitions/UserAdvanced'
              type: object
      summary: Gets single user defined by username parameter
      tags:
      - Users
  /users/{userID}/classes:
    get:
      parameters:
      - description: username of user to query
        in: path
        name: userID
        required: true
        type: string
      responses:
        "200":
          description: Describes the result of the execution
          schema:
            $ref: '#/definitions/api.GetUserClassesHandler.response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.ErrorResponse'
      summary: Get user class specified by class_id
      tags:
      - Classes
schemes:
- http
swagger: "2.0"
